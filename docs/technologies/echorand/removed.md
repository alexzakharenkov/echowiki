Namely:

- The way to determine participation of a specific party in each particular step is changed
- Disposable, derived keys for network messages signing are renounced.
- The way of generating a shared random state in the third step of the BBA algorithm is changed.

To achieve that, Echo employs role model and extensively relies on the concept of verifiable randomness. ECHO functions on the basis of rounds. During each round a new block of transactions is added to the top of blockchain.

In EchoRand consensus, every user is automatically able to participate in the block production and validation process, either by running a node or delegating to an existing node. Each new block of transactions is generated by a committee randomly chosen from the set of all network users. There is no requirement to lock up or "stake" currency, add computing power, or earn the votes of other users - every network user is eligible. However, the task of securely choosing this committee out of the pool of all users would typically require a large coordination, communication, or computation overhead for the network. In addition, when this committee of block producers is announced by the network, the chosen actors could be come the subject of bribe or DDoS attacks.

EchoRand solves this issue of coordination through a cryptographic trick called a verifiable random function (VRF), which is a pseudo-random function introduced by Silvio Micali, Michael Rabin, and Salil Vadhan. Using this VRF, each user essentially participates in their own, individual lottery to determine if they were a "winner" for that given block, with the winning tickets eligible to participate in block production. The key innovation is that each user can do this by themselves, without any coordination necessary with the other users. However, all users can easily validate if a ticket is an unforgeable, cryptographically signed "winning ticket". In addition, each users likelihood of winning the lottery is proportional to their balance of tokens.

Once each EchoRand user participates in this lottery, called cryptographic sortition, the "winners" immediately generate a block of transactions and broadcast it to the network, along with their winning lottery ticket. In this way, the network only knows who is chosen as block producer when the block has already been shared with the network, eliminating the opportunity for bribe and DDoS attacks.

Once the signed blocks are broadcast to all users, a similar "lottery drawing" is held for an additional set of winners who participate in verifying the block and voting on it's validity. The set of winning users in this lottery "verifiers" come to consensus on the best block to add to the network through Byzantine agreement, and once agreement is reached, all users on the network add the block to their local copy of the ledger.

### NOdes

a running echo application instance, located in the network of other nodes, having the last actual state (synchronization to the last block)

a server, with running echo_node process, local configuration and database. A physical network unit with one a server, with running `echo_node` process, local configuration and database. A physical network unit with one running instance of **EchoRand**

- **set of producers** - an identified by the protocol for the current block list of participants, that are given the opportunity to propose a block option for the current round
- **set of verifiers** - an identified by the protocol for a specific step list of participants, that are trusted to perform the verification actions which are defined by the step, in which they were chosen.

there is no way to predict what seed should be generated by each producer before its reception from producer.

- **Byzantine agreement problem** - is a condition of a computer system, particularly distributed computing systems, where components may fail and there is imperfect information on whether a component has failed. The term takes its name from an allegory, the "Byzantine Generals' Problem", developed to describe this condition, where actors must agree on a concerted strategy to avoid catastrophic system failure, but some of the actors are unreliable.

By default, the `B` trusted account for the `A` account becomes the account that registered the `B` account in the network.

Although the consensus algorithm is designed to be minimally resource intensive for each node, the protocol recognizes that every user may not be able to run their own node, and provides a way to "delegate" the block production role to another node by providing a type of secret key called a delegation key, which

The only requirement is that after every block is finalized, each user must independently run the VRF computation to generate a "lottery ticket" for the next block. This requires that the user have an online node that's connected to the rest of the network and the ability to sign new blocks with their private key. Because of these feature, every user should be able to participate in the consensus mechanism either by operating their own node or by delegating that right.

The participants on the rounds are the accounts, but to participate in the consensus, the active node is needed, since only having the current network status and the availability of free transactions in the mempool allows one to determine the sets of the performers, to collect and check messages.

Given that most accounts do not have the ability to maintain an active node in the network, but can be selected to participate in the round, the protocol implements the mechanism for delegating participation in consensus to other accounts.

The basis for the **EchoRand** algorithm is the [Algorand v9][algorand-v9] theoretical work, a Byzantine agreement protocol proposed by Jing Chen, Sergey Gorbunov, Silvio Micali, and Georgios Vlachos. Algorand v9 describes a algorthim for reaching consensus in a decentralized network by with Byzantine fault tolerance. In the [Algorand v9][algorand-v9] paper, several possible varations of the algorithm are presented. **Algorandâ€™2** is chosen as the basis for **EchoRand**. EchoRand combines techniques from early proof of stake blockchains like Bitshares as well as delegated proof of stake blockchains like EOS with the cryptographic sortition of Algorand v9. EchoRand also introduces a novel incentive and delegation scheme to increase network security.

EchoRand solves this issue of coordination through a cryptographic trick called a verifiable random function (VRF), which is a pseudo-random function introduced by Silvio Micali, Michael Rabin, and Salil Vadhan. Using this VRF, each user essentially participates in their own, individual lottery to determine if they were a "winner" for that given block, with the winning tickets eligible to participate in block production. The key innovation is that each user can do this by themselves, without any coordination necessary with the other users. However, all users can easily validate if a ticket is an unforgeable, cryptographically signed "winning ticket". In addition, each users likelihood of winning the lottery is proportional to their balance of tokens.

Once each EchoRand user participates in this lottery, called cryptographic sortition, the "winners" immediately generate a block of transactions and broadcast it to the network, along with their winning lottery ticket. In this way, the network only knows who is chosen as block producer when the block has already been shared with the network, eliminating the opportunity for bribe and DDoS attacks.

Once the signed blocks are broadcast to all users, a similar "lottery drawing" is held for an additional set of winners who participate in verifying the block and voting on it's validity. The set of winning users in this lottery "verifiers" come to consensus on the best block to add to the network through Byzantine agreement, and once agreement is reached, all users on the network add the block to their local copy of the ledger.
