# Описание интеграции EVM в echo

## Общая схема работы VMs

### конвертация идентификаторов ECHO в формат виртуальной машины и обратно

### конвертация набора параметров из JSON строки в формат виртуальной машины и обратно

### проверка кода контракта \(и, опционально, идентификатора метода контракта\) на соответствие формату данной виртуальной машины

## Хэши состояния машины

## указатель на абстрактный интерфейс доступа к Blockchain БД

В текущей реализации eth::State полностью

## Операции с виртуальной машиной

При работе с виртуальной машиной, в каждую операцию передается контекст,
содержащий следующие параметры:

* индетификатор аккаунта, производящего операцию
* идентификатор передаваемого в операцию актива (asset_id)
* количество передаваемого актива
* ...

Дополнительные параметры операций приведены ниже.

## Создание контракта

## Выполнение контракта

## Удаление контракта

## Результат выполнения операции (создание/выполнение/удаление)

## Хранение кода контрактов

### Хранение состояния контрактов

### Работа с газом

### Работа с blockchain из кода контракта